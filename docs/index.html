<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>prct09</title><meta name="description" content="Documentation for prct09"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">prct09</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>prct09</h2></div><div class="tsd-panel tsd-typography"><p><a href="https://classroom.github.com/a/7bX30zK4"><img src="https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg" alt="Review Assignment Due Date"></a></p>
<a id="md:práctica-10---aplicación-cliente-servidor-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:práctica-10---aplicación-cliente-servidor-para-coleccionistas-de-cartas-magic">Práctica 10 - Aplicación cliente-servidor para coleccionistas de cartas Magic</a></h1><a id="md:introducción" class="tsd-anchor"></a><h2><a href="#md:introducción">Introducción</a></h2><p>En la Práctica 10 del curso Desarrollo de Sistemas Informáticos del Grado en Ingeniería Informática en la ULL, se aborda la implementación de una aplicación cliente-servidor para coleccionistas de cartas Magic. Este proyecto extiende el trabajo realizado en la Práctica 9, ahora utilizando sockets proporcionados por el módulo net de Node.js para la comunicación entre cliente y servidor.</p>
<a id="md:objetivo" class="tsd-anchor"></a><h2><a href="#md:objetivo">Objetivo</a></h2><p>El objetivo principal es permitir a los usuarios gestionar sus colecciones de cartas Magic a través de una interfaz de línea de comandos. El servidor se encarga de almacenar la información de las cartas en archivos JSON en el sistema de archivos, mientras que el cliente interactúa con el servidor para realizar operaciones como añadir, modificar, eliminar, listar y mostrar cartas en la colección de un usuario.</p>
<a id="md:cardts" class="tsd-anchor"></a><h2><a href="#md:cardts">card.ts</a></h2><p>Se trata de la estructura básica del programa.
Enumeraciones:
CardType: Enumera los posibles tipos de carta, como Tierra, Criatura, Encantamiento, etc.
CardColor: Enumera los posibles colores de una carta, como Blanco, Azul, Negro, etc.
CardRarity: Enumera las posibles rarezas de una carta, como Común, Infrecuente, Rara, etc.</p>
<pre><code><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">CardType</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">Tierra</span><span class="hl-1"> = </span><span class="hl-5">&quot;Tierra&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Criatura</span><span class="hl-1"> = </span><span class="hl-5">&quot;Criatura&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Encantamiento</span><span class="hl-1"> = </span><span class="hl-5">&quot;Encantamiento&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Conjuro</span><span class="hl-1"> = </span><span class="hl-5">&quot;Conjuro&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Instantaneo</span><span class="hl-1"> = </span><span class="hl-5">&quot;Instantaneo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Artefacto</span><span class="hl-1"> = </span><span class="hl-5">&quot;Artefacto&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Planeswalker</span><span class="hl-1"> = </span><span class="hl-5">&quot;Planeswalker&quot;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">/**</span><br/><span class="hl-6"> * Enumeración que define los posibles colores de una carta.</span><br/><span class="hl-6"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">CardColor</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">Blanco</span><span class="hl-1"> = </span><span class="hl-5">&quot;Blanco&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Azul</span><span class="hl-1"> = </span><span class="hl-5">&quot;Azul&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Negro</span><span class="hl-1"> = </span><span class="hl-5">&quot;Negro&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Rojo</span><span class="hl-1"> = </span><span class="hl-5">&quot;Rojo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Verde</span><span class="hl-1"> = </span><span class="hl-5">&quot;Verde&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Incoloro</span><span class="hl-1"> = </span><span class="hl-5">&quot;Incoloro&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Multicolor</span><span class="hl-1"> = </span><span class="hl-5">&quot;Multicolor&quot;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">/**</span><br/><span class="hl-6"> * Enumeración que define las posibles rarezas de una carta.</span><br/><span class="hl-6"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">CardRarity</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">Comun</span><span class="hl-1"> = </span><span class="hl-5">&quot;Común&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Infrecuente</span><span class="hl-1"> = </span><span class="hl-5">&quot;Infrecuente&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Rara</span><span class="hl-1"> = </span><span class="hl-5">&quot;Rara&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Mitica</span><span class="hl-1"> = </span><span class="hl-5">&quot;Mítica&quot;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Clase Card:</p>
<p>Representa una carta del juego con propiedades como id, name, cost, color, cardType, rarity, rulesText, power, toughness, loyalty, y marketValue.
constructor: Método para crear una nueva instancia de la carta, inicializando sus propiedades con los valores proporcionados.</p>
<pre><code><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Card</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">cost</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">cardType</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">rarity</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">rulesText</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">power</span><span class="hl-1">?: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">toughness</span><span class="hl-1">?: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">loyalty</span><span class="hl-1">?: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">marketValue</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-7">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">cost</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">cardType</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">rarity</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">rulesText</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">marketValue</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">power</span><span class="hl-1">?: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">toughness</span><span class="hl-1">?: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">loyalty</span><span class="hl-1">?: </span><span class="hl-3">number</span><br/><span class="hl-1">  ) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1"> = </span><span class="hl-7">id</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1"> = </span><span class="hl-7">name</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">cost</span><span class="hl-1"> = </span><span class="hl-7">cost</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">color</span><span class="hl-1"> = </span><span class="hl-7">color</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">cardType</span><span class="hl-1"> = </span><span class="hl-7">cardType</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">rarity</span><span class="hl-1"> = </span><span class="hl-7">rarity</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">rulesText</span><span class="hl-1"> = </span><span class="hl-7">rulesText</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">marketValue</span><span class="hl-1"> = </span><span class="hl-7">marketValue</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">power</span><span class="hl-1"> = </span><span class="hl-7">power</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">toughness</span><span class="hl-1"> = </span><span class="hl-7">toughness</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">loyalty</span><span class="hl-1"> = </span><span class="hl-7">loyalty</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>Propiedades de la clase Card:</p>
<p>id: Identificador único de la carta.
name: Nombre de la carta.
cost: Costo de la carta.
color: Color de la carta (de la enumeración CardColor).
cardType: Tipo de carta (de la enumeración CardType).
rarity: Rareza de la carta (de la enumeración CardRarity).
rulesText: Texto de las reglas de la carta.
power: Poder de la carta (solo para criaturas).
toughness: Resistencia de la carta (solo para criaturas).
loyalty: Lealtad de la carta (solo para planeswalkers).
marketValue: Valor de mercado de la carta.</p>
<a id="md:cardcollectionts" class="tsd-anchor"></a><h2><a href="#md:cardcollectionts">cardCollection.ts</a></h2><p>Importaciones:
chalk: Esta biblioteca permite dar color al texto en la consola. Se utiliza para resaltar mensajes importantes en la salida de la aplicación.
Card y FileManager: Se importan las clases Card y FileManager desde sus respectivos archivos para ser utilizadas en esta clase.
fs: Este módulo es parte del sistema de archivos de Node.js y se utiliza para realizar operaciones relacionadas con archivos, como eliminar archivos físicos.
Clase CardCollection:
Propiedad privada collection: Es un array que almacena instancias de la clase Card. Representa la colección de cartas gestionada por esta clase.
Constructor:</p>
<p>Recibe una instancia de FileManager para manejar la carga y guardado de la colección desde y hacia el sistema de archivos.
Al inicializar la clase, carga la colección desde el archivo utilizando el método load de FileManager.
Métodos públicos:</p>
<p>addCard: Agrega una nueva carta a la colección verificando primero si ya existe una carta con el mismo ID.
updateCard: Modifica una carta existente en la colección basándose en su ID.
removeCard: Elimina una carta de la colección por su ID, también elimina físicamente el archivo asociado a esa carta.
listCards: Muestra en consola los ID y nombres de todas las cartas en la colección.
showCard: Muestra los detalles de una carta específica según su ID.
getCardById: Obtiene una carta de la colección por su ID.</p>
<pre><code><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;chalk&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">Card</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./card.js&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">FileManager</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./fileManager.js&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-7">fs</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">CardCollection</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-7">collection</span><span class="hl-1">: </span><span class="hl-3">Card</span><span class="hl-1">[];</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-7">fileManager</span><span class="hl-1">: </span><span class="hl-3">FileManager</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1"> = </span><span class="hl-7">fileManager</span><span class="hl-1">.</span><span class="hl-8">load</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-8">addCard</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">: </span><span class="hl-3">Card</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">existingCard</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">getCardById</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">existingCard</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-8">red</span><span class="hl-1">(</span><span class="hl-5">&#39;Error: A card with the same ID already exists.&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">.</span><span class="hl-8">push</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">fileManager</span><span class="hl-1">.</span><span class="hl-8">save</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-8">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Card added successfully!&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-8">updateCard</span><span class="hl-1">(</span><span class="hl-7">updatedCard</span><span class="hl-1">: </span><span class="hl-3">Card</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">index</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">.</span><span class="hl-8">findIndex</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1"> === </span><span class="hl-7">updatedCard</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">index</span><span class="hl-1"> !== -</span><span class="hl-9">1</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">[</span><span class="hl-7">index</span><span class="hl-1">] = </span><span class="hl-7">updatedCard</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">fileManager</span><span class="hl-1">.</span><span class="hl-8">save</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-8">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Card modified successfully!&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-8">red</span><span class="hl-1">(</span><span class="hl-5">&#39;Error: Card with specified ID not found.&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-8">removeCard</span><span class="hl-1">(</span><span class="hl-7">cardId</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Removing card with ID:&#39;</span><span class="hl-1">, </span><span class="hl-7">cardId</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">index</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">.</span><span class="hl-8">findIndex</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1"> === </span><span class="hl-7">cardId</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Card index:&#39;</span><span class="hl-1">, </span><span class="hl-7">index</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">index</span><span class="hl-1"> !== -</span><span class="hl-9">1</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardToRemove</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">[</span><span class="hl-7">index</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">filePath</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">fileManager</span><span class="hl-1">.</span><span class="hl-8">getFilePath</span><span class="hl-1">(</span><span class="hl-7">cardToRemove</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-8">unlinkSync</span><span class="hl-1">(</span><span class="hl-7">filePath</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">.</span><span class="hl-8">splice</span><span class="hl-1">(</span><span class="hl-7">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">fileManager</span><span class="hl-1">.</span><span class="hl-8">save</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-8">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Card removed successfully!&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-8">red</span><span class="hl-1">(</span><span class="hl-5">&#39;Error: Card with specified ID not found.&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-8">listCards</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">card</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">`Card ID: </span><span class="hl-2">${</span><span class="hl-7">card</span><span class="hl-10">.</span><span class="hl-7">id</span><span class="hl-2">}</span><span class="hl-5">, Name: </span><span class="hl-2">${</span><span class="hl-7">card</span><span class="hl-10">.</span><span class="hl-7">name</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-8">showCard</span><span class="hl-1">(</span><span class="hl-7">cardId</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">card</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">getCardById</span><span class="hl-1">(</span><span class="hl-7">cardId</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">card</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-8">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Card Details:&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;ID:&#39;</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Name:&#39;</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Cost:&#39;</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">cost</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Color:&#39;</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Type:&#39;</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">cardType</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Rarity:&#39;</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">rarity</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Rules Text:&#39;</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">rulesText</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Market Value:&#39;</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">marketValue</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-8">red</span><span class="hl-1">(</span><span class="hl-5">&#39;Error: Card with specified ID not found.&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-8">getCardById</span><span class="hl-1">(</span><span class="hl-7">cardId</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">Card</span><span class="hl-1"> | </span><span class="hl-3">undefined</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">.</span><span class="hl-8">find</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1"> === </span><span class="hl-7">cardId</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:filemanagerts" class="tsd-anchor"></a><h2><a href="#md:filemanagerts">fileManager.ts</a></h2><p>Este se encarga de gestionar la interacción con el sistema de archivos para las cartas de usuario en una aplicación de colección de cartas. 
En primer lugar:
Se importa el módulo fs de Node.js para trabajar con el sistema de archivos.
Se importa la clase Card desde el archivo card.js para manipular objetos de tipo carta.</p>
<pre><code><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-7">fs</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;fs&#39;</span><span class="hl-1">; </span><span class="hl-6">// Módulo File System de Node.js para trabajar con archivos</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">Card</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./card.js&#39;</span><span class="hl-1">; </span><span class="hl-6">// Importamos la clase Card del archivo card.js</span>
</code><button>Copy</button></pre>
<p>Clase FileManager:</p>
<pre><code><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">FileManager</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-7">userDir</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">; </span><span class="hl-6">// Directorio del usuario</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-7">username</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">userDir</span><span class="hl-1"> = </span><span class="hl-5">`./src/users/</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-10">.</span><span class="hl-7">username</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">createUserDirIfNotExists</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-8">createUserDirIfNotExists</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-8">existsSync</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">userDir</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-8">mkdirSync</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">userDir</span><span class="hl-1">, { </span><span class="hl-7">recursive:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-8">getFilePath</span><span class="hl-1">(</span><span class="hl-7">cardId</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-5">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-10">.</span><span class="hl-7">userDir</span><span class="hl-2">}</span><span class="hl-5">/card</span><span class="hl-2">${</span><span class="hl-7">cardId</span><span class="hl-2">}</span><span class="hl-5">.json`</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-8">save</span><span class="hl-1">(</span><span class="hl-7">collection</span><span class="hl-1">: </span><span class="hl-3">Card</span><span class="hl-1">[]): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">card</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-7">collection</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">filePath</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">getFilePath</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-8">writeFileSync</span><span class="hl-1">(</span><span class="hl-7">filePath</span><span class="hl-1">, </span><span class="hl-4">JSON</span><span class="hl-1">.</span><span class="hl-8">stringify</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">, </span><span class="hl-2">null</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-8">load</span><span class="hl-1">(): </span><span class="hl-3">Card</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">files</span><span class="hl-1"> = </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-8">readdirSync</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">userDir</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">collection</span><span class="hl-1">: </span><span class="hl-3">Card</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">file</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-7">files</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">file</span><span class="hl-1">.</span><span class="hl-8">endsWith</span><span class="hl-1">(</span><span class="hl-5">&#39;.json&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">filePath</span><span class="hl-1"> = </span><span class="hl-5">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-10">.</span><span class="hl-7">userDir</span><span class="hl-2">}</span><span class="hl-5">/</span><span class="hl-2">${</span><span class="hl-7">file</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">data</span><span class="hl-1"> = </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-8">readFileSync</span><span class="hl-1">(</span><span class="hl-7">filePath</span><span class="hl-1">, </span><span class="hl-5">&#39;utf-8&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">card</span><span class="hl-1"> = </span><span class="hl-4">JSON</span><span class="hl-1">.</span><span class="hl-8">parse</span><span class="hl-1">(</span><span class="hl-7">data</span><span class="hl-1">) </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">Card</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-7">collection</span><span class="hl-1">.</span><span class="hl-8">push</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">);</span><br/><span class="hl-1">        } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">error</span><span class="hl-1">(</span><span class="hl-5">`Error loading card from </span><span class="hl-2">${</span><span class="hl-7">filePath</span><span class="hl-2">}</span><span class="hl-5">: </span><span class="hl-2">${</span><span class="hl-7">error</span><span class="hl-10">.</span><span class="hl-7">message</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">collection</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Constructor:</p>
<p>Recibe el nombre de usuario para identificar la carpeta de almacenamiento de las cartas.
Crea el directorio del usuario si no existe mediante createUserDirIfNotExists.
Método createUserDirIfNotExists:</p>
<p>Comprueba si el directorio del usuario existe.
Si no existe, lo crea de forma recursiva usando fs.mkdirSync.
Método getFilePath:</p>
<p>Genera la ruta de archivo para una carta específica basada en su ID.
Método save:</p>
<p>Guarda la colección de cartas en archivos JSON en el sistema de archivos.
Itera sobre cada carta en la colección, obtiene su ruta de archivo y escribe el archivo JSON.
Método load:</p>
<p>Carga las cartas almacenadas en archivos JSON desde el sistema de archivos.
Lee los archivos en el directorio del usuario y los convierte en objetos Card.
Maneja errores al cargar cartas y los muestra en la consola.</p>
<a id="md:indexts" class="tsd-anchor"></a><h2><a href="#md:indexts">index.ts</a></h2><p>Configuración del yargs:</p>
<pre><code><span class="hl-8">yargs</span><span class="hl-1">(</span><span class="hl-8">hideBin</span><span class="hl-1">(</span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">argv</span><span class="hl-1">))</span>
</code><button>Copy</button></pre>
<p>Configuro yargs para trabajar con los argumentos pasados desde la línea de comandos.</p>
<p>Comandos y Argumentos:
Se definen varios comandos (add, update, remove, list, show) junto con sus argumentos correspondientes utilizando el método .command() de yargs.</p>
<pre><code><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;add&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Adds a card to the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">id:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card ID&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">name:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Name&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">cost:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Cost&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">color:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Color&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">choices:</span><span class="hl-1"> </span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-8">values</span><span class="hl-1">(</span><span class="hl-7">CardColor</span><span class="hl-1">), </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">type:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Type&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">choices:</span><span class="hl-1"> </span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-8">values</span><span class="hl-1">(</span><span class="hl-7">CardType</span><span class="hl-1">), </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">rarity:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Rarity&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">choices:</span><span class="hl-1"> </span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-8">values</span><span class="hl-1">(</span><span class="hl-7">CardRarity</span><span class="hl-1">), </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">rulesText:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Rules Text&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">marketValue:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Market Value&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">power:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Power&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">toughness:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Toughness&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">loyalty:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Loyalty&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">USERNAME</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">string</span><span class="hl-1">; </span><span class="hl-6">// Obtener el nombre de usuario como string</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-4">USERNAME</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">newCard</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">Card</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">cost</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">color</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">type</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rarity</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rulesText</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">marketValue</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">power</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">toughness</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">loyalty</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">addCard</span><span class="hl-1">(</span><span class="hl-7">newCard</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-6">// Comando &#39;update&#39; para modificar una carta en la colección</span><br/><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;update&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Modifies a card in the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">id:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card ID&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">name:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Name&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">cost:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Cost&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">color:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Color&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">choices:</span><span class="hl-1"> </span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-8">values</span><span class="hl-1">(</span><span class="hl-7">CardColor</span><span class="hl-1">), </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">type:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Type&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">choices:</span><span class="hl-1"> </span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-8">values</span><span class="hl-1">(</span><span class="hl-7">CardType</span><span class="hl-1">), </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">rarity:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Rarity&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">choices:</span><span class="hl-1"> </span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-8">values</span><span class="hl-1">(</span><span class="hl-7">CardRarity</span><span class="hl-1">), </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">rulesText:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Rules Text&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">marketValue:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Market Value&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">power:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Power&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">toughness:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Toughness&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">loyalty:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Loyalty&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">USERNAME</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">string</span><span class="hl-1">; </span><span class="hl-6">// Obtener el nombre de usuario como string</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-4">USERNAME</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">modifiedCard</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">Card</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">cost</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">color</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">type</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rarity</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rulesText</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">marketValue</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">power</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">toughness</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">loyalty</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">updateCard</span><span class="hl-1">(</span><span class="hl-7">modifiedCard</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-6">// Comando &#39;remove&#39; para eliminar una carta de la colección</span><br/><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;remove&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Removes a card from the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">user:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">id:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card ID&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> </span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">USERNAME</span><span class="hl-1"> = </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1">; </span><span class="hl-6">// Obtener el nombre de usuario</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-4">USERNAME</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">removeCard</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">); </span><span class="hl-6">// Revisar si argv.id contiene el ID correcto</span><br/><span class="hl-1">  })  </span><br/><span class="hl-1">  </span><span class="hl-6">// Comando &#39;list&#39; para listar todas las cartas en la colección</span><br/><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;list&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Lists all cards in the collection&#39;</span><span class="hl-1">, {}, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">USERNAME</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">string</span><span class="hl-1">; </span><span class="hl-6">// Obtener el nombre de usuario como string</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-4">USERNAME</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">listCards</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-6">// Comando &#39;show&#39; para mostrar detalles de una carta específica en la colección</span><br/><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;show&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Shows details of a specific card in the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">id:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card ID&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">USERNAME</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">string</span><span class="hl-1">; </span><span class="hl-6">// Obtener el nombre de usuario como string</span><br/><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-4">USERNAME</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">showCard</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span>
</code><button>Copy</button></pre>
<p>Cada comando tiene asociada una función de callback que se ejecuta cuando se invoca ese comando desde la línea de comandos.
Ejemplos de Comandos:
Comando add: Agrega una nueva carta a la colección.
Comando update: Modifica una carta existente en la colección.
Comando remove: Elimina una carta de la colección por su ID.
Comando list: Lista todas las cartas en la colección.
Comando show: Muestra detalles de una carta específica en la colección.</p>
<p>Uso de las Clases FileManager y CardCollection:
Se instancia FileManager con el nombre de usuario proporcionado en los argumentos.</p>
<pre><code><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-4">USERNAME</span><span class="hl-1">);</span><br/>
</code><button>Copy</button></pre>
<p>Se instancia CardCollection pasando la instancia de FileManager como argumento para gestionar las cartas.</p>
<pre><code><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">showCard</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:serverts" class="tsd-anchor"></a><h2><a href="#md:serverts">server.ts</a></h2><a id="md:decisiones-de-diseño" class="tsd-anchor"></a><h3><a href="#md:decisiones-de-diseño">Decisiones de Diseño:</a></h3><p>Separación de Responsabilidades:</p>
<p>Se sigue el principio de separación de responsabilidades al dividir el código en diferentes archivos y clases, lo que facilita la mantenibilidad y la escalabilidad del sistema.
Reutilización de Código:</p>
<p>Se reutiliza el código al utilizar una clase CardManager para gestionar las operaciones relacionadas con las cartas, lo que permite un código más limpio y modular.</p>
<pre><code><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">EventEmitter</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;events&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-7">net</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;net&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">CardCollection</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./cardCollection.js&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">Card</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./card.js&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">FileManager</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./fileManager.js&#39;</span><span class="hl-1">; </span><span class="hl-6">// Importamos el FileManager</span><br/><br/><span class="hl-6">/**</span><br/><span class="hl-6"> * Clase que extiende EventEmitter para manejar eventos de socket.</span><br/><span class="hl-6"> */</span><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">EventEmitterSocket</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">EventEmitter</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-7">connection</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">wholeData</span><span class="hl-1"> = </span><span class="hl-5">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">on</span><span class="hl-1">(</span><span class="hl-5">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-7">dataChunk</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">wholeData</span><span class="hl-1"> += </span><span class="hl-7">dataChunk</span><span class="hl-1">;</span><br/><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">wholeData</span><span class="hl-1">.</span><span class="hl-8">includes</span><span class="hl-1">(</span><span class="hl-5">&#39;FIN&quot;}&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">emit</span><span class="hl-1">(</span><span class="hl-5">&#39;peticion&#39;</span><span class="hl-1">, </span><span class="hl-4">JSON</span><span class="hl-1">.</span><span class="hl-8">parse</span><span class="hl-1">(</span><span class="hl-7">wholeData</span><span class="hl-1">), </span><span class="hl-7">connection</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">on</span><span class="hl-1">(</span><span class="hl-5">&#39;close&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">emit</span><span class="hl-1">(</span><span class="hl-5">&#39;close&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">USERNAME</span><span class="hl-1"> = </span><span class="hl-5">&#39;nombreUsuario&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">// Creamos una instancia de FileManager pasando el nombre de usuario como parámetro</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-4">USERNAME</span><span class="hl-1">);</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">); </span><span class="hl-6">// Pasamos el FileManager al CardCollection</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">server</span><span class="hl-1"> = </span><span class="hl-7">net</span><span class="hl-1">.</span><span class="hl-8">createServer</span><span class="hl-1">((</span><span class="hl-7">connection</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Un cliente se ha conectado.&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">serverSocket</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">EventEmitterSocket</span><span class="hl-1">(</span><span class="hl-7">connection</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-7">serverSocket</span><span class="hl-1">.</span><span class="hl-8">on</span><span class="hl-1">(</span><span class="hl-5">&#39;peticion&#39;</span><span class="hl-1">, (</span><span class="hl-7">peticion</span><span class="hl-1">, </span><span class="hl-7">connection</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Solicitud recibida:&#39;</span><span class="hl-1">, </span><span class="hl-7">peticion</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-6">// Manejar diferentes tipos de solicitudes</span><br/><span class="hl-1">    </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-7">peticion</span><span class="hl-1">.</span><span class="hl-7">tipo</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-5">&#39;agregarCarta&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-8">agregarCarta</span><span class="hl-1">(</span><span class="hl-7">peticion</span><span class="hl-1">, </span><span class="hl-7">connection</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-5">&#39;modificarCarta&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-8">modificarCarta</span><span class="hl-1">(</span><span class="hl-7">peticion</span><span class="hl-1">, </span><span class="hl-7">connection</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-5">&#39;eliminarCarta&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-8">eliminarCarta</span><span class="hl-1">(</span><span class="hl-7">peticion</span><span class="hl-1">, </span><span class="hl-7">connection</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-5">&#39;mostrarCarta&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-8">mostrarCarta</span><span class="hl-1">(</span><span class="hl-7">peticion</span><span class="hl-1">, </span><span class="hl-7">connection</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">write</span><span class="hl-1">(</span><span class="hl-5">&#39;Error: Solicitud no válida&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">end</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-7">serverSocket</span><span class="hl-1">.</span><span class="hl-8">on</span><span class="hl-1">(</span><span class="hl-5">&#39;close&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Un cliente se ha desconectado&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">server</span><span class="hl-1">.</span><span class="hl-8">listen</span><span class="hl-1">(</span><span class="hl-9">60300</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Esperando que los clientes se conecten.&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-8">agregarCarta</span><span class="hl-1">(</span><span class="hl-7">peticion</span><span class="hl-1">, </span><span class="hl-7">connection</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> { </span><span class="hl-4">carta</span><span class="hl-1"> } = </span><span class="hl-7">peticion</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">// Lógica para agregar una carta a la colección</span><br/><span class="hl-1">    </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">addCard</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">Card</span><span class="hl-1">(</span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">nombre</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">costeMana</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">color</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">tipo</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">rareza</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">textoReglas</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">valorMercado</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">write</span><span class="hl-1">(</span><span class="hl-5">&#39;Carta agregada correctamente&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">write</span><span class="hl-1">(</span><span class="hl-5">`Error al agregar la carta: </span><span class="hl-2">${</span><span class="hl-7">error</span><span class="hl-10">.</span><span class="hl-7">message</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">end</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-8">modificarCarta</span><span class="hl-1">(</span><span class="hl-7">peticion</span><span class="hl-1">, </span><span class="hl-7">connection</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> { </span><span class="hl-4">carta</span><span class="hl-1"> } = </span><span class="hl-7">peticion</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">// Lógica para modificar una carta en la colección</span><br/><span class="hl-1">    </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">updateCard</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">Card</span><span class="hl-1">(</span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">nombre</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">costeMana</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">color</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">tipo</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">rareza</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">textoReglas</span><span class="hl-1">, </span><span class="hl-7">carta</span><span class="hl-1">.</span><span class="hl-7">valorMercado</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">write</span><span class="hl-1">(</span><span class="hl-5">&#39;Carta modificada correctamente&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">write</span><span class="hl-1">(</span><span class="hl-5">`Error al modificar la carta: </span><span class="hl-2">${</span><span class="hl-7">error</span><span class="hl-10">.</span><span class="hl-7">message</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">end</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-8">eliminarCarta</span><span class="hl-1">(</span><span class="hl-7">peticion</span><span class="hl-1">, </span><span class="hl-7">connection</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> { </span><span class="hl-4">idCarta</span><span class="hl-1"> } = </span><span class="hl-7">peticion</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">// Lógica para eliminar una carta de la colección</span><br/><span class="hl-1">    </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">removeCard</span><span class="hl-1">(</span><span class="hl-7">idCarta</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">write</span><span class="hl-1">(</span><span class="hl-5">&#39;Carta eliminada correctamente&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">write</span><span class="hl-1">(</span><span class="hl-5">`Error al eliminar la carta: </span><span class="hl-2">${</span><span class="hl-7">error</span><span class="hl-10">.</span><span class="hl-7">message</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">end</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-8">mostrarCarta</span><span class="hl-1">(</span><span class="hl-7">peticion</span><span class="hl-1">, </span><span class="hl-7">connection</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> { </span><span class="hl-4">idCarta</span><span class="hl-1"> } = </span><span class="hl-7">peticion</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">// Lógica para mostrar la información de una carta específica</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">carta</span><span class="hl-1"> = </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">getCardById</span><span class="hl-1">(</span><span class="hl-7">idCarta</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">carta</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">write</span><span class="hl-1">(</span><span class="hl-4">JSON</span><span class="hl-1">.</span><span class="hl-8">stringify</span><span class="hl-1">(</span><span class="hl-7">carta</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">write</span><span class="hl-1">(</span><span class="hl-5">&#39;Carta no encontrada&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-7">connection</span><span class="hl-1">.</span><span class="hl-8">end</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/>
</code><button>Copy</button></pre>
<a id="md:clientts" class="tsd-anchor"></a><h2><a href="#md:clientts">client.ts</a></h2><a id="md:decisiones-de-diseño-1" class="tsd-anchor"></a><h3><a href="#md:decisiones-de-diseño-1">Decisiones de Diseño:</a></h3><p>Simplicidad y Usabilidad:</p>
<p>Se prioriza la simplicidad y la usabilidad al proporcionar una interfaz de usuario intuitiva en la consola utilizando la biblioteca inquirer, lo que facilita la interacción del usuario con la aplicación.
Desacoplamiento del Servidor y del Cliente:</p>
<p>Se mantiene el desacoplamiento entre el servidor y el cliente al separar el código en dos archivos diferentes (server.ts y client.ts), lo que permite una mayor flexibilidad y reutilización del código.</p>
<pre><code><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-7">yargs</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;yargs&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">hideBin</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;yargs/helpers&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;chalk&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">Card</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./card.js&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">CardCollection</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./cardCollection.js&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">FileManager</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./fileManager.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">// Configuración de yargs para manejar los comandos y argumentos de la línea de comandos</span><br/><span class="hl-8">yargs</span><span class="hl-1">(</span><span class="hl-8">hideBin</span><span class="hl-1">(</span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">argv</span><span class="hl-1">))</span><br/><span class="hl-1">  </span><span class="hl-6">// Comando &#39;add&#39; para agregar una carta a la colección</span><br/><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;add&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Adds a card to the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">id:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card ID&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">name:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Name&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">cost:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Cost&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">color:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Color&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">type:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Type&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">rarity:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Rarity&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">rulesText:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Rules Text&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">marketValue:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Market Value&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">power:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Power&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">toughness:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Toughness&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">loyalty:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Loyalty&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">user:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> }</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">newCard</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">Card</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">cost</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">color</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">type</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rarity</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rulesText</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">marketValue</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">power</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">toughness</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">loyalty</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">addCard</span><span class="hl-1">(</span><span class="hl-7">newCard</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-6">// Comando &#39;update&#39; para modificar una carta en la colección</span><br/><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;update&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Modifies a card in the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">id:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card ID&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">name:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Name&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">cost:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Cost&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">color:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Color&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">type:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Type&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">rarity:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Rarity&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">rulesText:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Rules Text&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">marketValue:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Market Value&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">power:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Power&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">toughness:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Toughness&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">loyalty:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card Loyalty&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">user:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> }</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">modifiedCard</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">Card</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">cost</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">color</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">type</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rarity</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rulesText</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">marketValue</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">power</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">toughness</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">loyalty</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">updateCard</span><span class="hl-1">(</span><span class="hl-7">modifiedCard</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-6">// Comando &#39;remove&#39; para eliminar una carta de la colección</span><br/><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;remove&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Removes a card from the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">id:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card ID&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">user:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> }</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">removeCard</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span><br/><span class="hl-1">  })  </span><br/><span class="hl-1">  </span><span class="hl-6">// Comando &#39;list&#39; para listar todas las cartas en la colección</span><br/><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;list&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Lists all cards in the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">user:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> }</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">listCards</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-6">// Comando &#39;show&#39; para mostrar detalles de una carta específica en la colección</span><br/><span class="hl-1">  .</span><span class="hl-8">command</span><span class="hl-1">(</span><span class="hl-5">&#39;show&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Shows details of a specific card in the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">id:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;Card ID&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-7">user:</span><span class="hl-1"> { </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> }</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">fileManager</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">FileManager</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cardCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">CardCollection</span><span class="hl-1">(</span><span class="hl-7">fileManager</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">cardCollection</span><span class="hl-1">.</span><span class="hl-8">showCard</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">help</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-7">argv</span><span class="hl-1">;</span><br/>
</code><button>Copy</button></pre>
<a id="md:conclusión" class="tsd-anchor"></a><h2><a href="#md:conclusión">Conclusión</a></h2><p>La Práctica 10 proporciona una oportunidad para profundizar en el desarrollo de aplicaciones cliente-servidor utilizando Node.js. Al implementar un sistema robusto de gestión de colecciones de cartas Magic, se aplican conceptos importantes como la comunicación en red, la persistencia de datos y la interacción con el usuario a través de una interfaz de línea de comandos.</p>
<a id="md:bibliografía" class="tsd-anchor"></a><h2><a href="#md:bibliografía">Bibliografía</a></h2><blockquote>
<p>npm: yargs. (n.d.). Npm. <a href="https://www.npmjs.com/package/yargs">https://www.npmjs.com/package/yargs</a></p>
</blockquote>
<blockquote>
<p>npm: chalk. (n.d.). Npm. <a href="https://www.npmjs.com/package/chalk">https://www.npmjs.com/package/chalk</a></p>
</blockquote>
<blockquote>
<p>File system | Node.js v21.7.1 Documentation. (n.d.). <a href="https://nodejs.org/docs/latest/api/fs.html">https://nodejs.org/docs/latest/api/fs.html</a></p>
</blockquote>
<blockquote>
<p>Events | Node.js v21.7.3 Documentation. (n.d.). <a href="https://nodejs.org/docs/latest/api/events.html">https://nodejs.org/docs/latest/api/events.html</a></p>
</blockquote>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:práctica-10---aplicación-cliente-servidor-para-coleccionistas-de-cartas-magic"><span>Práctica 10 -<wbr/> <wbr/>Aplicación cliente-<wbr/>servidor para coleccionistas de cartas <wbr/>Magic</span></a><ul><li><a href="#md:introducción"><span>Introducción</span></a></li><li><a href="#md:objetivo"><span>Objetivo</span></a></li><li><a href="#md:cardts"><span>card.ts</span></a></li><li><a href="#md:cardcollectionts"><span>card<wbr/>Collection.ts</span></a></li><li><a href="#md:filemanagerts"><span>file<wbr/>Manager.ts</span></a></li><li><a href="#md:indexts"><span>index.ts</span></a></li><li><a href="#md:serverts"><span>server.ts</span></a></li><li><ul><li><a href="#md:decisiones-de-diseño"><span>Decisiones de <wbr/>Diseño:</span></a></li></ul></li><li><a href="#md:clientts"><span>client.ts</span></a></li><li><ul><li><a href="#md:decisiones-de-diseño-1"><span>Decisiones de <wbr/>Diseño:</span></a></li></ul></li><li><a href="#md:conclusión"><span>Conclusión</span></a></li><li><a href="#md:bibliografía"><span>Bibliografía</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>prct09</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>